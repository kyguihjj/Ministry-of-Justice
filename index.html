<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>وزارة العدل - Falcon Town</title>
<link rel="icon" href="logo.webp" />
<style>
  :root{
    --bg-1:#1e130f;
    --bg-2:#2b1a15;
    --card:rgba(255,255,255,0.035);
    --glass:rgba(255,255,255,0.03);
    --accent:#ff8a29;
    --accent-2:#ffb36b;
    --muted:#c9bfb6;
    --text:#f6efe8;
    --gold-shadow:0 10px 40px rgba(255,138,41,0.09);
    --radius:14px;
    direction:rtl;
    font-family:"Inter","Segoe UI",Tahoma,system-ui,sans-serif;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:radial-gradient(1200px 600px at 10% 10%,rgba(255,138,41,0.03),transparent),linear-gradient(180deg,var(--bg-1) 0%,var(--bg-2) 100%);color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:1200px;margin:28px auto;padding:20px;}
  header{display:flex;align-items:center;gap:18px;padding:14px;background:linear-gradient(90deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:var(--radius);box-shadow:0 10px 40px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.02)}
  .logo{width:88px;height:88px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,0.5));border:1px solid rgba(255,255,255,0.03)}
  .logo img{width:100%;height:100%;object-fit:cover}
  header .brand{display:flex;flex-direction:column}
  header h1{margin:0;font-size:22px}
  header p{margin:0;color:var(--muted);font-size:13px}
  nav{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
  .tab{padding:9px 14px;border-radius:10px;background:transparent;border:1px solid transparent;color:var(--text);cursor:pointer;transition:all .28s;box-shadow:0 6px 20px rgba(0,0,0,0.45);font-weight:600}
  .tab:hover{transform:translateY(-6px);box-shadow:0 18px 50px rgba(0,0,0,0.6)}
  .tab.active{background:linear-gradient(90deg,rgba(255,138,41,0.12),rgba(255,138,41,0.06));border:1px solid rgba(255,138,41,0.12);color:var(--accent);text-shadow:0 1px 0 rgba(0,0,0,0.3)}
  main{margin-top:22px;display:grid;grid-template-columns:1fr 380px;gap:20px;align-items:start}
  .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:var(--gold-shadow);border:1px solid rgba(255,255,255,0.02);backdrop-filter:blur(6px);}
  .hero{padding:28px;border-radius:16px;overflow:hidden;position:relative;min-height:300px}
  .muted{color:var(--muted);font-size:13px}
  label{display:block;margin-top:12px;font-weight:700;font-size:13px;color:var(--muted)}
  input[type="text"],textarea{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg,rgba(0,0,0,0.25),rgba(0,0,0,0.35));color:var(--text);font-size:14px;margin-top:8px;outline:none}
  textarea{min-height:120px;resize:vertical}
  input:focus,textarea:focus{box-shadow:0 6px 24px rgba(255,138,41,0.07);transform:translateY(-2px)}
  .btn{display:inline-block;padding:11px 18px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#111;font-weight:800;border:none;cursor:pointer;margin-top:14px;box-shadow:0 18px 50px rgba(255,138,41,0.12);transition:transform .18s,box-shadow .18s}
  .btn:hover{transform:translateY(-6px) scale(1.02)}
  footer{text-align:center;color:var(--muted);margin-top:20px;font-size:13px}
  .welcome-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(10,8,6,0.96),rgba(10,8,6,0.94));z-index:9999;backdrop-filter:blur(4px)}
  .welcome-box{width:95%;max-width:880px;padding:36px;border-radius:18px;text-align:center;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 30px 100px rgba(0,0,0,0.7);border:1px solid rgba(255,255,255,0.02)}
  .welcome-logo{width:140px;height:140px;border-radius:18px;overflow:hidden;margin:0 auto 8px;border:6px solid rgba(255,138,41,0.06)}
  .welcome-box h1{font-size:34px;margin:6px 0;color:var(--accent)}
  @media(max-width:980px){main{grid-template-columns:1fr}}
</style>
</head>
<body>

<!-- شاشة الترحيب -->
<div id="welcome" class="welcome-overlay">
  <div class="welcome-box">
    <div class="welcome-logo">
      <img src="logo.webp" alt="logo" style="width:100%;height:100%;object-fit:cover;">
    </div>
    <h1>مرحبا بك في وزارة العدل — Falcon Town</h1>
    <p class="muted">نظام العدالة الرسمي للسيرفر</p>
    <p class="muted">تم التصميم بواسطة <strong>كافح المكافح</strong></p>
    <button id="enterBtn" class="btn">دخول إلى الموقع</button>
  </div>
</div>

<div class="wrap">
  <header>
    <div class="logo"><img src="logo.webp" alt="logo"></div>
    <div class="brand">
      <h1>وزارة العدل - Falcon Town</h1>
      <p class="muted">الهيبة — العدالة — النظام</p>
      <nav>
        <button class="tab active" data-target="rules">قوانين العدل</button>
        <button class="tab" data-target="raise">رفع قضية</button>
        <button class="tab" data-target="apply">التقديم على وظائف</button>
      </nav>
    </div>
  </header>

  <main>
    <section class="card hero" id="content-area">
      <div id="rules" class="panel">
        <h2>قوانين العدل</h2>
        <ul>
          <li>الالتزام بأصول المحاكمة والاحترام الكامل لهيئة المحكمة.</li>
          <li>تقديم الأدلة الموثقة وعدم العبث بمسرح الحادث.</li>
          <li>للطرفين الحق في الاستئناف خلال 72 ساعة.</li>
        </ul>
      </div>

      <div id="raise" class="panel" style="display:none">
        <h2>رفع قضية</h2>
        <form id="caseForm">
          <label>يوزر ديسكورد</label>
          <input type="text" name="user" required>
          <label>عنوان القضية</label>
          <input type="text" name="title" required>
          <label>تفاصيل</label>
          <textarea name="description" required></textarea>
          <button class="btn" type="submit">إرسال</button>
          <div id="caseStatus" class="muted"></div>
        </form>
      </div>

      <div id="apply" class="panel" style="display:none">
        <h2>التقديم على وظائف</h2>
        <div class="tabs-row">
          <button class="tab job-tab active" data-target="judgePanel">قاضي</button>
          <button class="tab job-tab" data-target="lawyerPanel">محامي</button>
        </div>

        <div id="judgePanel" class="job-panel">
          <form id="judgeForm">
            <label>يوزر</label>
            <input type="text" name="user" required>
            <label>الخبرة</label>
            <textarea name="experience" required></textarea>
            <label>السبب</label>
            <textarea name="motivation" required></textarea>
            <button class="btn" type="submit">إرسال طلب القاضي</button>
            <div id="judgeStatus" class="muted"></div>
          </form>
        </div>

        <div id="lawyerPanel" class="job-panel" style="display:none">
          <form id="lawyerForm">
            <label>يوزر</label>
            <input type="text" name="user" required>
            <label>الخبرة</label>
            <textarea name="experience" required></textarea>
            <label>السبب</label>
            <textarea name="motivation" required></textarea>
            <button class="btn" type="submit">إرسال طلب المحامي</button>
            <div id="lawyerStatus" class="muted"></div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>صنع من المطور <strong>كافح المكافح</strong> — Falcon Town</footer>
</div>

<script>
/* ==== Webhooks ==== */
const WEBHOOK_CASE   = "https://discord.com/api/webhooks/1436075887073431563/hZRpaFpCPxnvP1emNbvTs_D7MHXArN1nyS2YaVO6fKjdOX2ysiUtCUW-RRAZDJOP410z";
const WEBHOOK_JUDGE  = WEBHOOK_CASE;
const WEBHOOK_LAWYER = WEBHOOK_CASE;
const PROXY = "https://cors-anywhere.herokuapp.com/";

/* ==== شاشة الترحيب ==== */
window.addEventListener("load", () => {
  const welcome = document.getElementById("welcome");
  const enterBtn = document.getElementById("enterBtn");

  if (enterBtn && welcome) {
    enterBtn.addEventListener("click", () => {
      welcome.style.transition = "opacity .6s ease-out, transform .6s ease-out";
      welcome.style.opacity = "0";
      welcome.style.transform = "translateY(-20px)";
      setTimeout(() => welcome.remove(), 600);
    });
  }

  setTimeout(() => {
    if (welcome) {
      welcome.style.transition = "opacity .6s ease-out";
      welcome.style.opacity = "0";
      setTimeout(() => welcome.remove(), 600);
    }
  }, 7000);
});

/* ==== التبويبات ==== */
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll("header .tab").forEach(t => {
    t.addEventListener("click", () => {
      document.querySelectorAll("header .tab").forEach(x => x.classList.remove("active"));
      t.classList.add("active");
      const target = t.dataset.target;
      document.querySelectorAll("#content-area .panel").forEach(p => {
        p.style.display = (p.id === target ? "" : "none");
      });
    });
  });

  document.querySelectorAll(".job-tab").forEach(j => {
    j.addEventListener("click", () => {
      document.querySelectorAll(".job-tab").forEach(x => x.classList.remove("active"));
      j.classList.add("active");
      const t = j.dataset.target;
      document.querySelectorAll(".job-panel").forEach(p => {
        p.style.display = (p.id === t ? "" : "none");
      });
    });
  });
});

/* ==== إرسال النماذج ==== */
async function sendEmbedToWebhook(webhookUrl, embed, statusEl){
  statusEl.textContent = "جاري الإرسال...";
  const endpoint = PROXY + webhookUrl;
  try{
    const res = await fetch(endpoint,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({embeds:[embed]})
    });
    if(!res.ok) throw new Error("فشل الاتصال بالويب هوك");
    statusEl.textContent="✅ تم الإرسال بنجاح";
  }catch(err){
    statusEl.textContent="❌ "+err.message;
  }
}

document.getElementById("caseForm").addEventListener("submit",async e=>{
  e.preventDefault();
  const f=Object.fromEntries(new FormData(e.target).entries());
  const embed={title:`قضية جديدة — ${f.title}`,color:15158332,
  fields:[{name:"المبلغ",value:f.user},{name:"الوصف",value:f.description}],
  timestamp:new Date().toISOString(),footer:{text:"وزارة العدل - Falcon Town"}};
  await sendEmbedToWebhook(WEBHOOK_CASE,embed,document.getElementById("caseStatus"));
  e.target.reset();
});

document.getElementById("judgeForm").addEventListener("submit",async e=>{
  e.preventDefault();
  const f=Object.fromEntries(new FormData(e.target).entries());
  const embed={title:`تقديم قاضي — ${f.user}`,color:3447003,
  fields:[{name:"الخبرة",value:f.experience},{name:"السبب",value:f.motivation}],
  timestamp:new Date().toISOString(),footer:{text:"وزارة العدل - Falcon Town"}};
  await sendEmbedToWebhook(WEBHOOK_JUDGE,embed,document.getElementById("judgeStatus"));
  e.target.reset();
});

document.getElementById("lawyerForm").addEventListener("submit",async e=>{
  e.preventDefault();
  const f=Object.fromEntries(new FormData(e.target).entries());
  const embed={title:`تقديم محامي — ${f.user}`,color:15277667,
  fields:[{name:"الخبرة",value:f.experience},{name:"السبب",value:f.motivation}],
  timestamp:new Date().toISOString(),footer:{text:"وزارة العدل - Falcon Town"}};
  await sendEmbedToWebhook(WEBHOOK_LAWYER,embed,document.getElementById("lawyerStatus"));
  e.target.reset();
});
</script>
</body>
</html>
