<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¹Ø¯Ù„ - Falcon Justice</title>
<style>
body {
  margin: 0;
  font-family: "Cairo", sans-serif;
  background: linear-gradient(to bottom, #0b0b0b, #1b1b1b);
  color: white;
  overflow-x: hidden;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
#welcome-screen {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #111;
  display: flex; align-items: center; justify-content: center;
  flex-direction: column;
  z-index: 9999;
  transition: opacity 1s ease;
}
#welcome-screen h1 {
  font-size: 2em;
  color: #00eaff;
  animation: fadeIn 2s ease infinite alternate;
}
@keyframes fadeIn {
  from {opacity: 0.3;}
  to {opacity: 1;}
}

/* Ø²Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
#loginBtn {
  position: fixed;
  top: 10px; left: 10px;
  background: #00eaff;
  color: #000;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  z-index: 1000;
}

/* Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± */
#loginPopup {
  display: none;
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  background: #222;
  padding: 20px;
  border-radius: 10px;
  z-index: 1001;
}
#loginPopup input {
  width: 100%;
  padding: 8px;
  margin-top: 10px;
  border: none;
  border-radius: 6px;
}
#loginPopup button {
  background: #00eaff;
  border: none;
  padding: 8px 12px;
  margin-top: 10px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

/* Ù‚Ø³Ù… Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø¯Ù„ */
#akhbar-section {
  margin-top: 120px;
  padding: 40px 20px;
  text-align: center;
}
#akhbar-section h2 {
  font-size: 2em;
  color: #00eaff;
  margin-bottom: 20px;
}
#newsContainer {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
}
.news-card {
  width: 300px;
  padding: 20px;
  border-radius: 15px;
  color: white;
  transition: transform 0.3s;
}
.news-card:hover {
  transform: scale(1.05);
}
.news-actions {
  margin-top: 10px;
}
.news-actions button {
  margin: 3px;
  background: rgba(0,0,0,0.4);
  color: white;
  border: 1px solid white;
  border-radius: 5px;
  padding: 5px 10px;
  cursor: pointer;
}

/* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± */
#addNewsBtn {
  display: none;
  background: #00eaff;
  color: #000;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: bold;
  margin-bottom: 20px;
  cursor: pointer;
}
</style>
</head>
<body>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
<div id="welcome-screen">
  <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¹Ø¯Ù„</h1>
</div>

<!-- Ø²Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
<button id="loginBtn">Ø³Ø¬Ù‘Ù„</button>

<!-- Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
<div id="loginPopup">
  <h3>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:</h3>
  <input type="password" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button id="submitPassword">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ù‚Ø³Ù… Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø¯Ù„ -->
<section id="akhbar-section">
  <h2>ğŸ“œ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø¯Ù„</h2>
  <button id="addNewsBtn">â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</button>
  <div id="newsContainer"></div>
</section>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
  import { getDatabase, ref, push, onValue, remove, update } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBAYndK896pdJWnuedqiuzhUrLkMwBkrIQ",
    authDomain: "falcon-aa7b7.firebaseapp.com",
    databaseURL: "https://falcon-aa7b7-default-rtdb.firebaseio.com",
    projectId: "falcon-aa7b7",
    storageBucket: "falcon-aa7b7.firebasestorage.app",
    messagingSenderId: "841038084641",
    appId: "1:841038084641:web:c242594a1673b7d7608160",
    measurementId: "G-BMJFKRGNRX"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const loginBtn = document.getElementById("loginBtn");
  const loginPopup = document.getElementById("loginPopup");
  const submitPassword = document.getElementById("submitPassword");
  const passwordInput = document.getElementById("passwordInput");
  const addNewsBtn = document.getElementById("addNewsBtn");
  const newsContainer = document.getElementById("newsContainer");

  let isJudge = false;
  const colors = ["#0078ff","#00c853","#d500f9","#ff1744","#ff9100","#00b8d4","#8e24aa"];

  // Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
  window.addEventListener("load", () => {
    const welcome = document.getElementById("welcome-screen");
    setTimeout(() => {
      welcome.style.opacity = "0";
      setTimeout(() => { welcome.style.display = "none"; }, 1000);
    }, 6000);
  });

  // ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  loginBtn.onclick = () => {
    loginPopup.style.display = "block";
  };

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  submitPassword.onclick = () => {
    if (passwordInput.value === "Ø¹Ù…Ùƒ ÙƒØ§ÙØ­ Ø§Ù„Ù…ÙƒØ§ÙØ­") {
      isJudge = true;
      addNewsBtn.style.display = "inline-block";
      alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
      loginPopup.style.display = "none";
    } else {
      alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
    }
  };

  // Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯
  addNewsBtn.onclick = () => {
    const title = prompt("ğŸ“° Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±:");
    const content = prompt("âœï¸ Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¨Ø±:");
    if (title && content) {
      push(ref(db, "akhbar"), {
        title: title,
        content: content,
        time: new Date().toLocaleString()
      });
    }
  };

  // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
  onValue(ref(db, "akhbar"), (snapshot) => {
    newsContainer.innerHTML = "";
    const data = snapshot.val();
    if (!data) return;
    Object.keys(data).forEach((key) => {
      const news = data[key];
      const card = document.createElement("div");
      card.className = "news-card";
      card.style.background = colors[Math.floor(Math.random()*colors.length)];
      card.innerHTML = `
        <h3>${news.title}</h3>
        <p>${news.content}</p>
        <small>${news.time}</small>
        <div class="news-actions"></div>
      `;
      if (isJudge) {
        const actions = card.querySelector(".news-actions");
        const del = document.createElement("button");
        del.textContent = "ğŸ—‘ Ø­Ø°Ù";
        del.onclick = () => remove(ref(db, "akhbar/" + key));

        const edit = document.createElement("button");
        edit.textContent = "âœï¸ ØªØ¹Ø¯ÙŠÙ„";
        edit.onclick = () => {
          const newTitle = prompt("Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯:", news.title);
          const newContent = prompt("Ù†Øµ Ø¬Ø¯ÙŠØ¯:", news.content);
          if (newTitle && newContent)
            update(ref(db, "akhbar/" + key), { title: newTitle, content: newContent });
        };

        actions.appendChild(edit);
        actions.appendChild(del);
      }
      newsContainer.appendChild(card);
    });
  });
</script>
</body>
</html>
